<!DOCTYPE html>
<html>
<head>
    <title>KhaliStore – Download Apps</title>
    <link rel="stylesheet" href="/static/style.css">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script>
        function searchApps() {
            const input = document.getElementById("searchInput").value.toLowerCase();
            const cards = document.getElementsByClassName("app-card");

            for (let i = 0; i < cards.length; i++) {
                const text = cards[i].innerText.toLowerCase();
                cards[i].style.display = text.includes(input) ? "block" : "none";
            }
        }
    </script>
</head>
<body>
    <header>
        <h1>📱 KhaliStore</h1>
        <p class="subhead">Your custom marketplace for Android apps</p>
        <input type="text" id="searchInput" onkeyup="searchApps()" placeholder="🔍 Search apps..." class="search-bar">
    </header>

    <section class="app-list">
        {% for app in apps %}
        <div class="app-card">
            <img src="{{ url_for('static', filename='uploads/' + app.icon) }}" alt="App Icon" class="icon">
            <h2>🎯 {{ app.title }}</h2>
            <p>📂 <b>{{ app.category }}</b></p>
            <p>📝 {{ app.description }}</p>
            <a href="{{ url_for('download', filename=app.apk) }}" class="download-btn">⬇️ Download APK</a>
        </div>
        {% endfor %}
    </section>

    <footer>
        <p>© 2025 KhaliStore. All rights reserved.</p>
    </footer>
</body>
</html>